import { processTest, populateTransaction } from "../../test.fixture";

const contractName = "LibertiV2Proxy";

const testLabel = "withdrawWithSymbolCheck"; // <= Name of the test
const testDirSuffix = "withdraw_with_symbol_check"; // <= directory to compare device snapshots to
const testNetwork = "polygon";
const signedPlugin = false;

const contractAddr = "0x9f4294dc2ba0e4569cbfa3d8a0a5f2f23385db50";
const chainID = 137;

// From : https://polygonscan.com/tx/0xb11470fc411038902222e7519b37e7b99e8e11ec8e5948d444d076e4eeedb4f9
const inputData =
  "0xa292262200000000000000000000000000000000000000000000000008a9d8ac94d420a20000000000000000000000000d500b1d8e8ef31e21c99d1db9a6444d3adf12700000000000000000000000008b59e61065de08ec02bd44bc2f121f0343ed536e000000000000000000000000000000000000000000000000026f05d6e5b0538300000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000086c69574d415449430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022812aa3caf000000000000000000000000ce9cc1fa6df298854f77e92042fd2a3e7fb27eff000000000000000000000000c2132d05d31c914a87c6611c10748aeb04b58e8f0000000000000000000000000d500b1d8e8ef31e21c99d1db9a6444d3adf127000000000000000000000000055ff76bffc3cdd9d5fdbbc2ece4528ecce45047e000000000000000000000000484f6cec15080ba2efb2c9ccbe84372aed577138000000000000000000000000000000000000000000000000000000000000f3dc000000000000000000000000000000000000000000000000018d39cd640491ff0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009f00000000000000000000000000000000000000000000000000008100001a0020d6bdbf78c2132d05d31c914a87c6611c10748aeb04b58e8f00206ae4071138002dc6c055ff76bffc3cdd9d5fdbbc2ece4528ecce45047e1111111254eeb25477b68fb85ed929f73a9605820000000000000000000000000000000000000000000000000000000000000001c2132d05d31c914a87c6611c10748aeb04b58e8f00458441b3000000000000000000000000000000000000000000000000";

const serializedTx = populateTransaction(contractAddr, inputData, chainID);

const devices = [
  {
    name: "nanos",
    label: "Nano S",
    steps: 10, // <= Define the number of steps for this test case and this device
  },
  {
    name: "nanox",
    label: "Nano X",
    steps: 6, // <= Define the number of steps for this test case and this device
  },
  {
    name: "nanosp",
    label: "Nano S+",
    steps: 6, // <= Define the number of steps for this test case and this device
  },
];

devices.forEach((device) => {
  processTest(
    device,
    contractName,
    testLabel,
    testDirSuffix,
    "",
    signedPlugin,
    serializedTx,
    testNetwork
  );
});
